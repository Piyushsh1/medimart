{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":56,"index":114}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useCart\", {\n    enumerable: true,\n    get: function () {\n      return useCart;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  const useCart = () => {\n    _s();\n    const [cart, setCart] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [cartItemCount, setCartItemCount] = (0, _react.useState)(0);\n    const loadCart = (0, _react.useCallback)(async () => {\n      if (!(0, _servicesApi.getAuthToken)()) {\n        setCart(null);\n        setCartItemCount(0);\n        return;\n      }\n      try {\n        setLoading(true);\n        const cartData = await _servicesApi.cartAPI.get();\n        setCart(cartData);\n        if (cartData && cartData.items) {\n          const totalItems = cartData.items.reduce((sum, item) => sum + item.quantity, 0);\n          setCartItemCount(totalItems);\n        } else {\n          setCartItemCount(0);\n        }\n      } catch (error) {\n        console.error('Error loading cart:', error);\n        setCart(null);\n        setCartItemCount(0);\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    const addToCart = async (medicineId, quantity = 1) => {\n      try {\n        await _servicesApi.cartAPI.add(medicineId, quantity);\n        await loadCart();\n        return true;\n      } catch (error) {\n        console.error('Error adding to cart:', error);\n        throw error;\n      }\n    };\n    const updateQuantity = async (medicineId, quantity) => {\n      try {\n        await _servicesApi.cartAPI.update(medicineId, quantity);\n        await loadCart();\n        return true;\n      } catch (error) {\n        console.error('Error updating quantity:', error);\n        throw error;\n      }\n    };\n    const removeFromCart = async medicineId => {\n      try {\n        await _servicesApi.cartAPI.remove(medicineId);\n        await loadCart();\n        return true;\n      } catch (error) {\n        console.error('Error removing from cart:', error);\n        throw error;\n      }\n    };\n    const getItemQuantity = medicineId => {\n      if (!cart || !cart.items) return 0;\n      const item = cart.items.find(item => item.medicine_id === medicineId);\n      return item ? item.quantity : 0;\n    };\n    (0, _react.useEffect)(() => {\n      loadCart();\n    }, [loadCart]);\n    return {\n      cart,\n      loading,\n      cartItemCount,\n      loadCart,\n      addToCart,\n      updateQuantity,\n      removeFromCart,\n      getItemQuantity\n    };\n  };\n  _s(useCart, \"vxoN58aU2c3wzXRhlIGvWDZozHU=\");\n});","lineCount":95,"map":[[8,2,5,0,"Object"],[8,8,5,0],[8,9,5,0,"defineProperty"],[8,23,5,0],[8,24,5,0,"exports"],[8,31,5,0],[9,4,5,0,"enumerable"],[9,14,5,0],[10,4,5,0,"get"],[10,7,5,0],[10,18,5,0,"get"],[10,19,5,0],[11,6,5,0],[11,13,5,0,"useCart"],[11,20,5,0],[12,4,5,0],[13,2,5,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_servicesApi"],[15,18,2,0],[15,21,2,0,"require"],[15,28,2,0],[15,29,2,0,"_dependencyMap"],[15,43,2,0],[16,2,5,7],[16,8,5,13,"useCart"],[16,15,5,20],[16,18,5,23,"useCart"],[16,19,5,23],[16,24,5,29],[17,4,5,29,"_s"],[17,6,5,29],[18,4,6,2],[18,10,6,8],[18,11,6,9,"cart"],[18,15,6,13],[18,17,6,15,"setCart"],[18,24,6,22],[18,25,6,23],[18,28,6,26],[18,32,6,26,"useState"],[18,38,6,34],[18,39,6,34,"useState"],[18,47,6,34],[18,49,6,48],[18,53,6,52],[18,54,6,53],[19,4,7,2],[19,10,7,8],[19,11,7,9,"loading"],[19,18,7,16],[19,20,7,18,"setLoading"],[19,30,7,28],[19,31,7,29],[19,34,7,32],[19,38,7,32,"useState"],[19,44,7,40],[19,45,7,40,"useState"],[19,53,7,40],[19,55,7,41],[19,60,7,46],[19,61,7,47],[20,4,8,2],[20,10,8,8],[20,11,8,9,"cartItemCount"],[20,24,8,22],[20,26,8,24,"setCartItemCount"],[20,42,8,40],[20,43,8,41],[20,46,8,44],[20,50,8,44,"useState"],[20,56,8,52],[20,57,8,52,"useState"],[20,65,8,52],[20,67,8,53],[20,68,8,54],[20,69,8,55],[21,4,10,2],[21,10,10,8,"loadCart"],[21,18,10,16],[21,21,10,19],[21,25,10,19,"useCallback"],[21,31,10,30],[21,32,10,30,"useCallback"],[21,43,10,30],[21,45,10,31],[21,57,10,43],[22,6,11,4],[22,10,11,8],[22,11,11,9],[22,15,11,9,"getAuthToken"],[22,27,11,21],[22,28,11,21,"getAuthToken"],[22,40,11,21],[22,42,11,22],[22,43,11,23],[22,45,11,25],[23,8,12,6,"setCart"],[23,15,12,13],[23,16,12,14],[23,20,12,18],[23,21,12,19],[24,8,13,6,"setCartItemCount"],[24,24,13,22],[24,25,13,23],[24,26,13,24],[24,27,13,25],[25,8,14,6],[26,6,15,4],[27,6,17,4],[27,10,17,8],[28,8,18,6,"setLoading"],[28,18,18,16],[28,19,18,17],[28,23,18,21],[28,24,18,22],[29,8,19,6],[29,14,19,12,"cartData"],[29,22,19,20],[29,25,19,23],[29,31,19,29,"cartAPI"],[29,43,19,36],[29,44,19,36,"cartAPI"],[29,51,19,36],[29,52,19,37,"get"],[29,55,19,40],[29,56,19,41],[29,57,19,42],[30,8,20,6,"setCart"],[30,15,20,13],[30,16,20,14,"cartData"],[30,24,20,22],[30,25,20,23],[31,8,22,6],[31,12,22,10,"cartData"],[31,20,22,18],[31,24,22,22,"cartData"],[31,32,22,30],[31,33,22,31,"items"],[31,38,22,36],[31,40,22,38],[32,10,23,8],[32,16,23,14,"totalItems"],[32,26,23,24],[32,29,23,27,"cartData"],[32,37,23,35],[32,38,23,36,"items"],[32,43,23,41],[32,44,23,42,"reduce"],[32,50,23,48],[32,51,23,49],[32,52,23,50,"sum"],[32,55,23,53],[32,57,23,55,"item"],[32,61,23,59],[32,66,23,64,"sum"],[32,69,23,67],[32,72,23,70,"item"],[32,76,23,74],[32,77,23,75,"quantity"],[32,85,23,83],[32,87,23,85],[32,88,23,86],[32,89,23,87],[33,10,24,8,"setCartItemCount"],[33,26,24,24],[33,27,24,25,"totalItems"],[33,37,24,35],[33,38,24,36],[34,8,25,6],[34,9,25,7],[34,15,25,13],[35,10,26,8,"setCartItemCount"],[35,26,26,24],[35,27,26,25],[35,28,26,26],[35,29,26,27],[36,8,27,6],[37,6,28,4],[37,7,28,5],[37,8,28,6],[37,15,28,13,"error"],[37,20,28,18],[37,22,28,20],[38,8,29,6,"console"],[38,15,29,13],[38,16,29,14,"error"],[38,21,29,19],[38,22,29,20],[38,43,29,41],[38,45,29,43,"error"],[38,50,29,48],[38,51,29,49],[39,8,30,6,"setCart"],[39,15,30,13],[39,16,30,14],[39,20,30,18],[39,21,30,19],[40,8,31,6,"setCartItemCount"],[40,24,31,22],[40,25,31,23],[40,26,31,24],[40,27,31,25],[41,6,32,4],[41,7,32,5],[41,16,32,14],[42,8,33,6,"setLoading"],[42,18,33,16],[42,19,33,17],[42,24,33,22],[42,25,33,23],[43,6,34,4],[44,4,35,2],[44,5,35,3],[44,7,35,5],[44,9,35,7],[44,10,35,8],[45,4,37,2],[45,10,37,8,"addToCart"],[45,19,37,17],[45,22,37,20],[45,28,37,20,"addToCart"],[45,29,37,27,"medicineId"],[45,39,37,45],[45,41,37,47,"quantity"],[45,49,37,63],[45,52,37,66],[45,53,37,67],[45,58,37,72],[46,6,38,4],[46,10,38,8],[47,8,39,6],[47,14,39,12,"cartAPI"],[47,26,39,19],[47,27,39,19,"cartAPI"],[47,34,39,19],[47,35,39,20,"add"],[47,38,39,23],[47,39,39,24,"medicineId"],[47,49,39,34],[47,51,39,36,"quantity"],[47,59,39,44],[47,60,39,45],[48,8,40,6],[48,14,40,12,"loadCart"],[48,22,40,20],[48,23,40,21],[48,24,40,22],[49,8,41,6],[49,15,41,13],[49,19,41,17],[50,6,42,4],[50,7,42,5],[50,8,42,6],[50,15,42,13,"error"],[50,20,42,23],[50,22,42,25],[51,8,43,6,"console"],[51,15,43,13],[51,16,43,14,"error"],[51,21,43,19],[51,22,43,20],[51,45,43,43],[51,47,43,45,"error"],[51,52,43,50],[51,53,43,51],[52,8,44,6],[52,14,44,12,"error"],[52,19,44,17],[53,6,45,4],[54,4,46,2],[54,5,46,3],[55,4,48,2],[55,10,48,8,"updateQuantity"],[55,24,48,22],[55,27,48,25],[55,33,48,25,"updateQuantity"],[55,34,48,32,"medicineId"],[55,44,48,50],[55,46,48,52,"quantity"],[55,54,48,68],[55,59,48,73],[56,6,49,4],[56,10,49,8],[57,8,50,6],[57,14,50,12,"cartAPI"],[57,26,50,19],[57,27,50,19,"cartAPI"],[57,34,50,19],[57,35,50,20,"update"],[57,41,50,26],[57,42,50,27,"medicineId"],[57,52,50,37],[57,54,50,39,"quantity"],[57,62,50,47],[57,63,50,48],[58,8,51,6],[58,14,51,12,"loadCart"],[58,22,51,20],[58,23,51,21],[58,24,51,22],[59,8,52,6],[59,15,52,13],[59,19,52,17],[60,6,53,4],[60,7,53,5],[60,8,53,6],[60,15,53,13,"error"],[60,20,53,23],[60,22,53,25],[61,8,54,6,"console"],[61,15,54,13],[61,16,54,14,"error"],[61,21,54,19],[61,22,54,20],[61,48,54,46],[61,50,54,48,"error"],[61,55,54,53],[61,56,54,54],[62,8,55,6],[62,14,55,12,"error"],[62,19,55,17],[63,6,56,4],[64,4,57,2],[64,5,57,3],[65,4,59,2],[65,10,59,8,"removeFromCart"],[65,24,59,22],[65,27,59,25],[65,33,59,32,"medicineId"],[65,43,59,50],[65,47,59,55],[66,6,60,4],[66,10,60,8],[67,8,61,6],[67,14,61,12,"cartAPI"],[67,26,61,19],[67,27,61,19,"cartAPI"],[67,34,61,19],[67,35,61,20,"remove"],[67,41,61,26],[67,42,61,27,"medicineId"],[67,52,61,37],[67,53,61,38],[68,8,62,6],[68,14,62,12,"loadCart"],[68,22,62,20],[68,23,62,21],[68,24,62,22],[69,8,63,6],[69,15,63,13],[69,19,63,17],[70,6,64,4],[70,7,64,5],[70,8,64,6],[70,15,64,13,"error"],[70,20,64,23],[70,22,64,25],[71,8,65,6,"console"],[71,15,65,13],[71,16,65,14,"error"],[71,21,65,19],[71,22,65,20],[71,49,65,47],[71,51,65,49,"error"],[71,56,65,54],[71,57,65,55],[72,8,66,6],[72,14,66,12,"error"],[72,19,66,17],[73,6,67,4],[74,4,68,2],[74,5,68,3],[75,4,70,2],[75,10,70,8,"getItemQuantity"],[75,25,70,23],[75,28,70,27,"medicineId"],[75,38,70,45],[75,42,70,58],[76,6,71,4],[76,10,71,8],[76,11,71,9,"cart"],[76,15,71,13],[76,19,71,17],[76,20,71,18,"cart"],[76,24,71,22],[76,25,71,23,"items"],[76,30,71,28],[76,32,71,30],[76,39,71,37],[76,40,71,38],[77,6,72,4],[77,12,72,10,"item"],[77,16,72,14],[77,19,72,17,"cart"],[77,23,72,21],[77,24,72,22,"items"],[77,29,72,27],[77,30,72,28,"find"],[77,34,72,32],[77,35,72,33,"item"],[77,39,72,37],[77,43,72,41,"item"],[77,47,72,45],[77,48,72,46,"medicine_id"],[77,59,72,57],[77,64,72,62,"medicineId"],[77,74,72,72],[77,75,72,73],[78,6,73,4],[78,13,73,11,"item"],[78,17,73,15],[78,20,73,18,"item"],[78,24,73,22],[78,25,73,23,"quantity"],[78,33,73,31],[78,36,73,34],[78,37,73,35],[79,4,74,2],[79,5,74,3],[80,4,76,2],[80,8,76,2,"useEffect"],[80,14,76,11],[80,15,76,11,"useEffect"],[80,24,76,11],[80,26,76,12],[80,32,76,18],[81,6,77,4,"loadCart"],[81,14,77,12],[81,15,77,13],[81,16,77,14],[82,4,78,2],[82,5,78,3],[82,7,78,5],[82,8,78,6,"loadCart"],[82,16,78,14],[82,17,78,15],[82,18,78,16],[83,4,80,2],[83,11,80,9],[84,6,81,4,"cart"],[84,10,81,8],[85,6,82,4,"loading"],[85,13,82,11],[86,6,83,4,"cartItemCount"],[86,19,83,17],[87,6,84,4,"loadCart"],[87,14,84,12],[88,6,85,4,"addToCart"],[88,15,85,13],[89,6,86,4,"updateQuantity"],[89,20,86,18],[90,6,87,4,"removeFromCart"],[90,20,87,18],[91,6,88,4,"getItemQuantity"],[92,4,89,2],[92,5,89,3],[93,2,90,0],[93,3,90,1],[94,2,90,2,"_s"],[94,4,90,2],[94,5,5,13,"useCart"],[94,12,5,20],[95,0,5,20],[95,3]],"functionMap":{"names":["<global>","useCart","loadCart","cartData.items.reduce$argument_0","addToCart","updateQuantity","removeFromCart","getItemQuantity","cart.items.find$argument_0","useEffect$argument_0"],"mappings":"AAA;uBCI;+BCK;iDCa,kCD;GDY;oBGE;GHS;yBIE;GJS;yBKE;GLS;0BME;iCCE,uCD;GNE;YQE;GRE;CDY"},"hasCjsExports":false},"type":"js/module"}]}